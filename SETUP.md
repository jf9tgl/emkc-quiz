# 文化祭クイズシステム - セットアップガイド

## 📋 必要なもの

### ハードウェア

-   Arduino Uno（または互換機）
-   早押しボタン × 6 個
-   リセットボタン × 1 個
-   LED × 6 個（オプション）
-   抵抗器（10kΩ）× 7 個
-   ジャンパーワイヤー
-   ブレッドボード

### ソフトウェア

-   Node.js (v16 以上)
-   Arduino IDE
-   VS Code（推奨）

## 🔧 セットアップ手順

### 1. Arduino 設定

1. `arduino/quiz_button.ino` を Arduino IDE で開く
2. 配線図に従ってボタンを接続：

    ```
    プレイヤー1ボタン → ピン2
    プレイヤー2ボタン → ピン3
    プレイヤー3ボタン → ピン4
    プレイヤー4ボタン → ピン5
    プレイヤー5ボタン → ピン6
    プレイヤー6ボタン → ピン7
    リセットボタン   → ピン8

    LED1 → ピン9
    LED2 → ピン10
    LED3 → ピン11
    LED4 → ピン12
    LED5 → ピンA0
    LED6 → ピンA1
    ```

3. Arduino にスケッチをアップロード

### 2. サーバー設定

```bash
cd server
npm install
npm start
```

サーバーが `http://localhost:3001` で起動します。

### 3. クライアント設定

```bash
cd client
npm install
npm run dev
```

クライアントが `http://localhost:3000` で起動します。

## 🎮 使用方法

### 基本操作

1. PC で `http://localhost:3000/control` を開く（コントロール画面）
2. プロジェクターで `http://localhost:3000/display` を開く（表示画面）
3. コントロール画面で問題文を入力し「出題開始」
4. 参加者が早押しボタンを押下
5. 結果が両画面に表示される
6. 必要に応じてスコア調整
7. 「リセット」で次の問題へ

### 画面の役割

-   **コントロール画面**: 司会者用操作パネル
-   **表示画面**: 観客・参加者向け大画面表示

## 🛠️ トラブルシューティング

### Arduino が認識されない

-   USB ケーブルを確認
-   Arduino IDE でシリアルポートを確認
-   デバイスマネージャーで COM ポートを確認

### ボタンが反応しない

-   配線を確認
-   プルアップ抵抗が正しく接続されているか確認
-   シリアルモニターで信号を確認

### サーバー接続エラー

-   ファイアウォール設定を確認
-   ポート 3001 が使用されていないか確認
-   Node.js のバージョンを確認

## 🎨 カスタマイズ

### プレイヤー名の変更

コントロール画面でプレイヤー名を直接編集できます。

### 効果音の追加

`client/pages/display.js` の `playButtonSound` 関数をカスタマイズしてください。

### スタイルの変更

`client/styles/` 内の CSS ファイルを編集してください。

## 📝 開発メモ

### 追加予定機能

-   [ ] 問題データの CSV 一括登録
-   [ ] より多彩な効果音・アニメーション
-   [ ] スコアリセット機能
-   [ ] 設定画面（タイマー、効果音 ON/OFF 等）

### 既知の問題

-   ブラウザによっては効果音が再生されない場合があります
-   大量の問題データには未対応です

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå†æ§‹æˆå®Œäº†ã‚¬ã‚¤ãƒ‰

## ğŸ“ æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
emkc-quiz/
â”œâ”€â”€ admin/              # ç®¡ç†ç”»é¢ (ãƒ­ãƒ¼ã‚«ãƒ«å®Ÿè¡Œ)
â”‚   â”œâ”€â”€ src/app/
â”‚   â”‚   â”œâ”€â”€ admin/      # ç®¡ç†ãƒ‘ãƒãƒ«
â”‚   â”‚   â”œâ”€â”€ display/    # æŠ•å½±ç”»é¢
â”‚   â”‚   â””â”€â”€ button/     # (å‰Šé™¤å¯èƒ½ã€client/ã«ç§»è¡Œæ¸ˆã¿)
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ client/             # ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç”¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ (Vercel ãƒ‡ãƒ—ãƒ­ã‚¤)
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â””â”€â”€ page.tsx    # æ—©æŠ¼ã—ãƒœã‚¿ãƒ³ãƒšãƒ¼ã‚¸
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â””â”€â”€ socket.ts   # Socket.IO ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ store/
â”‚   â”‚   â””â”€â”€ quiz-store.ts  # Zustand ã‚¹ãƒˆã‚¢
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ server/             # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Vercel ãƒ‡ãƒ—ãƒ­ã‚¤)
â”‚   â”œâ”€â”€ server.ts
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ shared/             # å…±é€šå‹å®šç¾©
â”‚   â”œâ”€â”€ types.ts        # Player, QuizState, SocketEvents ç­‰
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ legacy/
â”‚   â””â”€â”€ controller/     # æ—§ Arduino ç‰ˆ (ä¿å­˜ç”¨)
â”‚
â””â”€â”€ docs/
```

## ğŸ¯ å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å½¹å‰²

### 1. **admin/** - ç®¡ç†ç”»é¢

-   **å®Ÿè¡Œç’°å¢ƒ**: ç”Ÿå¾’ä¼š PC (localhost)
-   **ãƒãƒ¼ãƒˆ**: 3000
-   **æ©Ÿèƒ½**:
    -   å•é¡Œå‡ºé¡Œ (`/admin`)
    -   ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç† (åå‰ç·¨é›†ã€ã‚¹ã‚³ã‚¢èª¿æ•´)
    -   æŠ•å½±ç”»é¢ (`/display`)
-   **èµ·å‹•æ–¹æ³•**:
    ```bash
    cd admin
    npm run dev  # ã¾ãŸã¯ bun dev
    ```

### 2. **client/** - ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç”¨ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

-   **å®Ÿè¡Œç’°å¢ƒ**: Vercel (å…¬é–‹ URL)
-   **ãƒãƒ¼ãƒˆ**: 3002 (é–‹ç™ºæ™‚)
-   **æ©Ÿèƒ½**:
    -   ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼é¸æŠ
    -   æ—©æŠ¼ã—ãƒœã‚¿ãƒ³
    -   ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ çŠ¶æ…‹è¡¨ç¤º
-   **èµ·å‹•æ–¹æ³•**:
    ```bash
    cd client
    npm run dev  # ã¾ãŸã¯ bun dev
    ```
-   **ãƒ‡ãƒ—ãƒ­ã‚¤**:
    ```bash
    cd client
    vercel --prod
    ```

### 3. **server/** - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰

-   **å®Ÿè¡Œç’°å¢ƒ**: Vercel (WebSocket å¯¾å¿œ)
-   **ãƒãƒ¼ãƒˆ**: 3001
-   **æ©Ÿèƒ½**:
    -   Socket.IO ã‚µãƒ¼ãƒãƒ¼
    -   ã‚¯ã‚¤ã‚ºçŠ¶æ…‹ç®¡ç†
    -   ãƒœã‚¿ãƒ³æŠ¼ä¸‹å‡¦ç†
    -   ã‚¹ã‚³ã‚¢è¨ˆç®—
-   **èµ·å‹•æ–¹æ³•**:
    ```bash
    cd server
    npm run dev  # ã¾ãŸã¯ bun dev
    ```

### 4. **shared/** - å…±é€šå‹å®šç¾©

-   **å½¹å‰²**: TypeScript å‹å®šç¾©ã®å…±æœ‰
-   **ä½¿ç”¨æ–¹æ³•**:
    ```typescript
    // admin ã¾ãŸã¯ client ã‹ã‚‰
    import type { QuizState, Player } from "@shared/types";
    ```

## ğŸ”§ ç’°å¢ƒå¤‰æ•°è¨­å®š

### admin/.env.local

```env
NEXT_PUBLIC_SERVER_URL=http://localhost:3001
# ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œ
# NEXT_PUBLIC_SERVER_URL=https://quizserver-xxx.vercel.app
```

### client/.env.local

```env
NEXT_PUBLIC_SERVER_URL=http://localhost:3001
# ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œ
# NEXT_PUBLIC_SERVER_URL=https://quizserver-xxx.vercel.app
```

### server/.env (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)

```env
PORT=3001
NODE_ENV=development
CORS_ORIGIN=http://localhost:3000,http://localhost:3002
```

## ğŸš€ é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. å…¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
# admin
cd admin
npm install  # ã¾ãŸã¯ bun install

# client
cd ../client
npm install  # ã¾ãŸã¯ bun install

# server
cd ../server
npm install  # ã¾ãŸã¯ bun install
```

### 2. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼èµ·å‹• (3 ã¤ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«)

#### ã‚¿ãƒ¼ãƒŸãƒŠãƒ« 1: ã‚µãƒ¼ãƒãƒ¼

```bash
cd server
npm run dev
# â†’ http://localhost:3001
```

#### ã‚¿ãƒ¼ãƒŸãƒŠãƒ« 2: ç®¡ç†ç”»é¢

```bash
cd admin
npm run dev
# â†’ http://localhost:3000
```

#### ã‚¿ãƒ¼ãƒŸãƒŠãƒ« 3: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ

```bash
cd client
npm run dev
# â†’ http://localhost:3002
```

## ğŸ“± ä½¿ç”¨æ–¹æ³•

### ç®¡ç†è€… (ç”Ÿå¾’ä¼š PC)

1. `http://localhost:3000/admin` - å•é¡Œç®¡ç†
2. `http://localhost:3000/display` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ã‚¿ãƒ¼æŠ•å½±

### å›ç­”è€… (ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆ)

1. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ URL ã«ã‚¢ã‚¯ã‚»ã‚¹: `http://localhost:3002`
   (ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œ: `https://quizclient-xxx.vercel.app`)
2. ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç•ªå· (1ã€œ5) ã‚’é¸æŠ
3. å¤§å‹ãƒœã‚¿ãƒ³ã§æ—©æŠ¼ã—

## ğŸ¨ æ–°æ©Ÿèƒ½

### ã‚¹ã‚³ã‚¢èª¿æ•´ (ç®¡ç†ç”»é¢)

-   **Â±1 ãƒœã‚¿ãƒ³**: å„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ¨ªã«è¡¨ç¤º
-   **å…¨å“¡ãƒªã‚»ãƒƒãƒˆ**: å³ä¸Šã®èµ¤ã„ãƒœã‚¿ãƒ³

### ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒœã‚¿ãƒ³ (client/)

-   **ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼é¸æŠ**: 1ã€œ5 ã‹ã‚‰é¸æŠ
-   **å¤§å‹ãƒœã‚¿ãƒ³**: ç”»é¢ã„ã£ã±ã„ã®æ—©æŠ¼ã—ãƒœã‚¿ãƒ³
-   **è¦–è¦šãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: æŠ¼ä¸‹æ™‚ã«é»„è‰²ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ + âš¡

## ğŸ”„ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. [ ] admin/ ã® `/button` ãƒšãƒ¼ã‚¸ã‚’å‰Šé™¤ (client/ ã«ç§»è¡Œæ¸ˆã¿)
2. [ ] admin/ ã¨ server/ ã§ `@shared/types` ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆã™ã‚‹ã‚ˆã†ä¿®æ­£
3. [ ] å‹•ä½œãƒ†ã‚¹ãƒˆ (admin + client + server é€£æº)
4. [ ] Vercel ãƒ‡ãƒ—ãƒ­ã‚¤è¨­å®š
5. [ ] æœ¬ç•ªç’°å¢ƒå¤‰æ•°ã®è¨­å®š

## ğŸ“ å‰Šé™¤å¯èƒ½ãªãƒ•ã‚¡ã‚¤ãƒ«

-   `admin/src/app/button/page.tsx` â† client/ ã«ç§»è¡Œæ¸ˆã¿
-   `proto/` ãƒ•ã‚©ãƒ«ãƒ€ (ãƒ—ãƒ­ãƒˆã‚¿ã‚¤ãƒ—ã€ä¸è¦ãªã‚‰å‰Šé™¤)

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### TypeScript ã‚¨ãƒ©ãƒ¼: ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„

```bash
# admin/ ã¾ãŸã¯ client/ ã§
npm install
# tsconfig.json ã® paths è¨­å®šã‚’ç¢ºèª
```

### Socket.IO æ¥ç¶šã‚¨ãƒ©ãƒ¼

-   ã‚µãƒ¼ãƒãƒ¼ãŒèµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèª: `http://localhost:3001`
-   CORS è¨­å®šã‚’ç¢ºèª: `server/server.ts`
-   ç’°å¢ƒå¤‰æ•°ã‚’ç¢ºèª: `.env.local`

### ãƒãƒ¼ãƒˆç«¶åˆã‚¨ãƒ©ãƒ¼

-   admin: 3000
-   server: 3001
-   client: 3002
-   æ—¢ã«ä½¿ç”¨ä¸­ã®å ´åˆã¯ãƒãƒ¼ãƒˆç•ªå·ã‚’å¤‰æ›´

## âœ… å®Œäº†ã—ãŸä½œæ¥­

-   âœ… ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®å†ç·¨æˆ
-   âœ… shared/ ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ä½œæˆ
-   âœ… client/ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ–°è¦ä½œæˆ
-   âœ… ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒœã‚¿ãƒ³ UI å®Ÿè£…
-   âœ… ã‚¹ã‚³ã‚¢èª¿æ•´æ©Ÿèƒ½å®Ÿè£…
-   âœ… Socket.IO ã‚¤ãƒ™ãƒ³ãƒˆè¿½åŠ  (pressButton, adjustScore, resetAllScores)
-   âœ… Zustand ã‚¹ãƒˆã‚¢ã®æ›´æ–°

## ğŸš§ æ®‹ã‚Šã®ä½œæ¥­

-   [ ] admin/ ã¨ server/ ã§ shared/ ã‹ã‚‰ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
-   [ ] çµ±åˆãƒ†ã‚¹ãƒˆ
-   [ ] ãƒ‡ãƒ—ãƒ­ã‚¤
